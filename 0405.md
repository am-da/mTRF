
### ダウンサンプリング (128 → 256)

元々のサンプリングは512 Hz


・resample(128)  

<img width="800" alt="スクリーンショット 2024-04-04 17 27 37" src="https://github.com/am-da/mTRF/assets/112613519/2cb954d0-bede-4b57-a38c-c5f25998a2af">

・resample(256)  

<img width="800" alt="スクリーンショット 2024-04-04 17 24 49" src="https://github.com/am-da/mTRF/assets/112613519/dae792d8-f33a-44ef-a5a9-bbdac805f1dc">

<br> 

<br> 

### notch filter

subject 4 - movie 33    

Twente(オランダ)は 50Hz   


・notch filter なし  

<img width="800" alt="スクリーンショット 2024-04-04 23 44 47" src="https://github.com/am-da/mTRF/assets/112613519/90fa7a5f-ec7e-4555-9f9a-eaadd924cfac">

<br> 

・notch filter あり  

<img width="800" alt="スクリーンショット 2024-04-05 0 48 13" src="https://github.com/am-da/mTRF/assets/112613519/89b91c20-06a2-4db0-ae02-299374ca1e7e">


<br> 


<details><summary>コード</summary>  
  
```python
  
import mne
import numpy as np

# 変更
raw = mne.io.read_raw_bdf('/Users/ami/PycharmProjects/UCSD_pycharm/UCSD/DEAP_data/data_original/s04.bdf', preload=True)

# 脳波のチャンネルのインデックスを指定
brain_channels = list(range(0, 32))

# 脳波のチャンネルのみを選択してデータを作成
raw_brain = raw.copy().pick_channels([raw.ch_names[i] for i in brain_channels])
print(raw_brain.ch_names)

raw.notch_filter(np.arange(60,241,60),filter_length='auto')

# デジタルフィルタリング
raw_brain.filter(1, 50, fir_design='firwin')

# ダウンサンプリング（256Hzにダウンサンプリング）
raw_brain.resample(128)

# 平均リファレンスを適用
raw_brain.set_eeg_reference('average', projection=True)
raw_brain.apply_proj()

# 変更
start_time = 2654.794922
end_time = start_time + 60

raw_brain.crop(tmin=start_time, tmax=end_time)  # 指定した時間帯のデータを抽出
raw_brain.plot()

```

</details>


<details><summary>参考</summary>  
https://mne.tools/stable/generated/mne.io.Raw.html#mne.io.Raw.notch_filter
<img width="793" alt="スクリーンショット 2024-04-04 23 51 59" src="https://github.com/am-da/mTRF/assets/112613519/df9d46cb-5e37-411f-8e47-63c41bc8635f">
</details>

<br> 


### 脳波計について

https://www.eecs.qmul.ac.uk/mmv/datasets/deap/doc/tac_special_issue_2011.pdf

<img width="626" alt="スクリーンショット 2024-04-05 0 23 56" src="https://github.com/am-da/mTRF/assets/112613519/cd56bee0-3265-4bf8-b3bb-878583d52bd6">
<img width="740" alt="スクリーンショット 2024-04-05 0 24 34" src="https://github.com/am-da/mTRF/assets/112613519/0924918e-dfee-47b7-be2c-a9adc62da1d1">

脳波の特定の周波数帯域と脳波の関連(?)  

<br> 

https://www.eecs.qmul.ac.uk/mmv/datasets/deap/readme.html
<img width="1095" alt="スクリーンショット 2024-04-05 0 38 00" src="https://github.com/am-da/mTRF/assets/112613519/b7962aaa-b685-47af-91d4-96a756e9e427">

<br> 


## fun と　sadの比較

movie 1 と movie 24　の比較


<details><summary>movieのジャンル分け</summary>
  
last fmの感情タグを反映。それ以外は空白。  

| movie | last.fm tag |
|:---:|:---:|
| 1 | fun |
| 2 | exciting |
| 3 | joy |
| 11 | happy |
| 12 | cheerful |
| 13 | love |
| 14 | happy |
| 15 | lovely |
| 16 | sentimental |
| 22 | sentimental |
| 23 | melancholy |
| 24 | sad |
| 25 | depressing |
| 26 | mellow |
| 31 | terrible |
| 32 | shock |
| 33 | hate |

</details>



