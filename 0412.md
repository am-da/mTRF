



・'loc' is channel location information

BDF file detected  
Setting channel info structure...  
Creating raw.info structure...  

{'cal': 1.0, 'logno': 1, 'scanno': 1, 'range': 1.0, 'unit_mul': 0 (FIFF_UNITM_NONE),   
'ch_name': 'Fp1', 'unit': 107 (FIFF_UNIT_V), 'coord_frame': 4 (FIFFV_COORD_HEAD),   
'coil_type': 1 (FIFFV_COIL_EEG), 'kind': 2 (FIFFV_EEG_CH),   
'loc': array([nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan])}  

<br> 

<details><summary>コード</summary>  
  
```python
import mne

raw = mne.io.read_raw_bdf('/Users/ami/PycharmProjects/UCSD_pycharm/UCSD/DEAP_data/data_original/s10.bdf')

# channel Fp1, 'chs' is channel information
channel_positions = raw.info['chs'][0]
print(channel_positions)
```

</details>

<br> 


### channel 1 Fp1のみ

<img width="385" alt="スクリーンショット 2024-04-12 7 30 33" src="https://github.com/am-da/mTRF/assets/112613519/11560b58-ab20-4aa4-b0f4-4c8d4702d587">




<details><summary>コード</summary>  
  
```python

import mne
import numpy as np

raw = mne.io.read_raw_bdf('/Users/ami/PycharmProjects/UCSD_pycharm/UCSD/DEAP_data/data_original/s01.bdf', preload=True)
# 脳波のチャンネルのインデックスを指定
brain_channels = list(range(0, 32))

# 脳波のチャンネルのみを選択してデータを作成
raw_brain = raw.copy().pick_channels([raw.ch_names[i] for i in brain_channels])
print(raw_brain.ch_names)
raw_brain._data[:, 1:33] = 0


raw_brain.set_montage("biosemi32")

raw_brain.notch_filter(np.arange(50, 251, 50), filter_length='auto')

# デジタルフィルタリング
raw_brain.filter(1, 50, fir_design='firwin')

# ダウンサンプリング
raw_brain.resample(256)

print("raw._data[3]" ,raw_brain._data[3])


# ICA
# set up and fit the ICA
reject=dict(mag=4e-12, grad=4000e-13)
ica = mne.preprocessing.ICA(n_components= 2, random_state = 23, method='fastica')

picks_eeg = mne.pick_types(raw_brain.info, eeg = True)
ica.fit(raw_brain, picks = picks_eeg, reject=reject)
print("ica",ica)


ica.plot_components()



eog_index,scores=ica.find_bads_eog(raw_brain, ch_name= ['EXG1'])

print("eog_index",eog_index)
print("scores",scores)
ica.plot_scores(scores)

```

</details>

<br> 

<img width="1003" alt="スクリーンショット 2024-04-12 7 22 06" src="https://github.com/am-da/mTRF/assets/112613519/4253e103-e2c9-4d12-82c1-102eff21bf66">
http://meg.aalip.jp/python/MNE_tutorial_VisualizeRaw.htm#_Toc472006180




